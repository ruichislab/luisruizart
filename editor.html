<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AETHER WORKSTATION</title>
    <link rel="stylesheet" href="css/editor-pro.css">
    <script src="js/device-detect.js"></script>
</head>
<body>

    <!-- Header -->
    <header id="app-header">
        <div class="app-logo">AETHER LAB</div>
        <div class="menu-bar">
            <span class="menu-item">File</span>
            <span class="menu-item">Edit</span>
            <span class="menu-item">View</span>
            <span class="menu-item">Help</span>
        </div>
        <div style="flex:1"></div>
        <button id="btn-save" class="pro-btn" style="width:auto">Export</button>
    </header>

    <!-- Left Toolbar -->
    <aside id="app-toolbar">
        <button class="tool-btn active" id="btn-brush" title="Brush (B)">üñå</button>
        <button class="tool-btn" id="btn-eraser" title="Eraser (E)">‚å´</button>
        <button class="tool-btn" id="btn-wand" title="Magic Wand (W)">ü™Ñ</button>
        <button class="tool-btn" id="btn-pan-tool" title="Pan (Space)">‚úã</button>
        <div style="height:10px"></div>
        <button class="tool-btn" id="btn-netweaver" title="Net Weaver">üï∏</button>
        <button class="tool-btn" id="btn-cyberflow" title="Cyber Flow">üåä</button>
        <button class="tool-btn" id="btn-glitch" title="Glitch">‚ö°</button>
        <button class="tool-btn" id="btn-fractal" title="Fractal">‚ùÑ</button>
    </aside>

    <!-- Center Viewport -->
    <main id="app-viewport">
        <div id="canvas-wrapper">
            <!-- Canvas injected here -->
        </div>
    </main>

    <!-- Bottom Timeline -->
    <section id="app-timeline">
        <div class="panel-header">
            <span>Timeline</span>
            <div class="controls">
                <button id="btn-play" class="pro-btn" style="width:auto; padding:2px 8px">‚ñ∂</button>
                <span style="margin:0 10px">FPS: <input type="number" id="fps-input" value="12"></span>
                <label><input type="checkbox" id="onion-skin-toggle"> Onion</label>
            </div>
        </div>
        <div id="timeline-tracks">
            <div id="frames-container" style="display:flex; height:100%; gap:5px">
                <!-- Frames -->
            </div>
            <button id="btn-add-frame" class="pro-btn" style="width:40px; height:100%; font-size:20px">+</button>
        </div>
    </section>

    <!-- Right Sidebar -->
    <aside id="app-sidebar">
        <!-- Layers -->
        <div class="panel-section" style="flex:1; display:flex; flex-direction:column">
            <div class="panel-header">Layers</div>
            <div class="panel-content" style="padding:0; flex:1; display:flex; flex-direction:column">
                <div id="layers-list" style="flex:1; border:none"></div>
                <div style="padding:5px; display:flex; gap:5px">
                    <button id="btn-add-layer" class="pro-btn">+ New</button>
                    <button id="btn-clear-layer" class="pro-btn">Clear</button>
                    <button id="btn-dup-frame" class="pro-btn" style="display:none">Dup Frame</button>
                    <button id="btn-del-frame" class="pro-btn" style="display:none">Del Frame</button>
                </div>
            </div>
        </div>

        <!-- Properties -->
        <div class="panel-section">
            <div class="panel-header">Properties</div>
            <div class="panel-content">
                <div class="control-row">
                    <label>Size</label>
                    <input type="range" id="size-picker" min="1" max="100" value="5">
                    <input type="number" id="size-val" value="5">
                </div>
                <div class="control-row">
                    <label>Color</label>
                    <input type="color" id="color-picker" value="#00ffff">
                </div>
                <div id="palette-container"></div>
            </div>
        </div>

        <!-- Canvas/View -->
        <div class="panel-section">
            <div class="panel-header">Canvas</div>
            <div class="panel-content">
                <div class="control-row">
                    <input type="number" id="canvas-width" value="800">
                    <span>x</span>
                    <input type="number" id="canvas-height" value="600">
                </div>
                <button id="btn-resize" class="pro-btn">Resize</button>
                <div style="margin-top:10px; display:flex; gap:5px">
                    <button id="btn-zoom-in" class="pro-btn">Zoom In</button>
                    <button id="btn-zoom-out" class="pro-btn">Zoom Out</button>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="panel-section">
            <div class="panel-header">Effects</div>
            <div class="panel-content" style="display:grid; grid-template-columns:1fr 1fr; gap:5px">
                <button id="btn-invert" class="pro-btn">Invert</button>
                <button id="btn-grayscale" class="pro-btn">B&W</button>
                <button id="btn-rgb-split" class="pro-btn">RGB Split</button>
                <button id="btn-pixelate" class="pro-btn">Pixelate</button>
                <button id="btn-rem-bg" class="pro-btn" style="grid-column: span 2">Remove BG</button>
            </div>
        </div>

        <div class="panel-section">
            <div class="panel-header">History</div>
            <div class="panel-content">
                <button id="btn-undo" class="pro-btn">Undo (Ctrl+Z)</button>
            </div>
        </div>
    </aside>

    <script type="module" src="js/menu.js"></script>
    <script type="module" src="js/editor-app.js"></script>
</body>
</html>
